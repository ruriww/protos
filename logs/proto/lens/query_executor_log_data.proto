edition = "2023";

package logs.proto.lens;

option objc_class_prefix = "LNSLOG";

message QueryExecutorLogData {
	enum QueryType {
		option features.enum_type = CLOSED;

		UNKNOWN_QUERY_TYPE = 0;
		PREFETCH_FINAL = 1;
		FINAL_PREFETCH = 2;
		FINAL = 3;
		PREFETCH = 4;
		REGION_SEARCH = 5;
		REGION_SEARCH_PREFETCH = 6;
		TRANSLATE = 7;
		DISAMBIGUATION = 8;
		PROACTIVE = 9;
		PROACTIVE_PREFETCH = 10;
		TEXT_SELECTION = 11;
		QUERY_TYPE_FOLLOW_ON = 12;
		PREFETCH_DEEPLINK = 13;
		PROACTIVE_PREFETCH_UNCLASSIFIED = 14;
		SERVER_TRANSLATE = 15;
		ON_DEVICE_TRANSLATE = 16;
		HYBRID_TRANSLATE = 17;
		ON_DEVICE_TEXT_SELECTION = 18;
		LVF_DEFAULT = 19;
		LVF_EMPTY = 20;
		LVF_HYBRID_TRANSLATE = 21;
		LVF_ON_DEVICE_TRANSLATE = 22;
		LVF_ON_DEVICE_AUTO = 23;
		LVF_ON_DEVICE_PRODUCTS = 24;
		PRODUCT_SEARCH_PANEL = 25;
		PREFETCH_REGION_SEARCH = 26;
		LVF_TRANSLATE = 27;
		ON_DEVICE_EMBEDDINGS = 28;
		LVF_UPLOAD_VIDEO_FRAME = 29;
		SEND_VIDEO_QUERY = 30;
		PREFETCH_MULTIMODAL = 31;
		LVF_UPLOAD_VOICE_FRAME = 32;
		PRIMARY_MULTIMODAL = 33;
		PREFETCH_ON_DEVICE_TEXT_SELECTION = 34;
		PREFETCH_WITH_RESULTS_PREPARATION = 35;
		LVF_UPLOAD_SINGLE_VIDEO_FRAME = 36;
		LVF_LIVE_UPLOAD_VIDEO_FRAME = 37;
		SEND_LIVE_CONVERSATION_QUERY = 38;
		SEND_LIVE_CONVERSATION_AIM_QUERY = 39;
	}

	QueryType query_type = 1;

	enum QueryOrigin {
		option features.enum_type = CLOSED;

		UNKNOWN_QUERY_ORIGIN = 0;
		GLEAM_TAPPED = 1;
		TEXT_TAPPED = 2;
		IMAGE_TAPPED = 3;
		IMAGE_UPLOADED = 4;
		LINK_TAPPED = 5;
		QRCODE_URL_TAPPED = 6;
		REGION_SEARCH_DEFAULT = 7;
		REGION_SEARCH_ADJUSTED = 8;
		REGION_SEARCH_GLEAM = 9;
		REGION_SEARCH_EXIT = 10;
		SHUTTER_TAPPED = 11;
		FOLLOW_ON = 12;
		SESSION_RESTORATION = 13;
		SHUTTER_RETICLE_SELECTION = 14;
		SHUTTER_RETICLE_REGION = 15;
		FILTER_CHANGED = 16;
		PRIME_GLEAM_DETECTION = 17;
		MULTIMODAL = 18;
		MULTIMODAL_EXIT = 19;
		FILTER_CHANGED_REGION_SELECTION_RETENTION = 20;
		FILTER_CHANGED_TEXT_SELECTION_RETENTION = 21;
		MULTIMODAL_MIC = 22;
		OBJECT_TAPPED = 23;
		FILTER_SHUTTER_WITH_PRODUCT_SELECTION = 24;
		LVF_MIC = 25;
		EXPLORE_BAR_MODE_SELECTION = 26;
		EXPLORE_BAR_PRICE_REFINEMENT = 27;
		EXPLORE_BAR_MULTIMODAL_SEARCH = 28;
		EXPLORE_BAR_SELECTION_CLEAR = 29;
		HISTORY = 30;
		MULTIMODAL_HISTORY = 31;
		SUGGEST_IMAGE_UPLOAD = 32;
		LVF_VIDEO_RECORDING = 33;
		LVF_VISUAL_SUGGEST = 34;
		CIRCLE_TO_SEARCH_OBJECT = 35;
		CIRCLE_TO_SEARCH_TEXT = 36;
		CIRCLE_TO_SEARCH_REGION = 37;
		CIRCLE_TO_SEARCH_TRANSLATED_TEXT = 38;
		LVF_VISUAL_SUGGEST_SELECT_TEXT = 39;
		LVF_VISUAL_SUGGEST_SOLVE = 40;
		LVF_VISUAL_SUGGEST_SUMMARIZE = 41;
		LVF_VISUAL_SUGGEST_TRANSLATE = 42;
		LVF_VISUAL_SUGGEST_ASK_QUESTION = 48;
		LIVE_CONVERSATION_VIDEO_UPLOAD = 43;
		LIVE_CONVERSATION_TRANSCRIPTED_QUERY = 44;
		MAGI_MULTIMODAL_SUGGESTED_QUERY = 45;
		LONG_PRESS_TEXT = 46;
		LONG_PRESS_TRANSLATED_TEXT = 47;
	}

	QueryOrigin query_origin = 2;

	enum FailureReason {
		option features.enum_type = CLOSED;

		UNKNOWN_FAILURE_REASON = 0;
		CANCELLED = 1;
		TIMED_OUT = 2;
		ERROR = 3;
		UNSUPPORTED = 4;
		REQUEST_IN_FLIGHT = 5;
		EMPTY_OUTPUT = 6;
		GRPC = 7;
		HTTP = 8;
		CANCELLED_THROUGH_QUERY_ABANDONMENT = 9;
	}

	FailureReason failure_reason = 3;
	string failure_class_name = 4;
	int32 latency_ms = 5;
	int32 error_code = 6;
}
